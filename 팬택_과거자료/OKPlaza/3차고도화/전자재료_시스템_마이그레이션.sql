--------------------전자재료 운영조직(14) 등록---------------------
INSERT INTO SMPBORGS (
		BORGID
,		BORGCD
,		BORGNM
,		TOPBORGID
,		PARBORGID
,		BORGLEVEL
,		BORGTYPECD
,		SVCTYPECD
,		GROUPID
,		CLIENTID
,		BRANCHID
,		DEPTID
,		REMOTEIP
,		CREATEDATE
,		CREATORID
,		UPDATEDATE
,		UPDATERID
,		ISUSE
,		AGENT_ID
) SELECT
		'14'
,		'BRANCH0002'
,		'전자재료부품사업'
,		TOPBORGID
,		PARBORGID
,		BORGLEVEL
,		BORGTYPECD
,		SVCTYPECD
,		GROUPID
,		CLIENTID
,		BRANCHID
,		DEPTID
,		REMOTEIP
,		GETDATE()
,		CREATORID
,		GETDATE()
,		UPDATERID
,		ISUSE
,		'14'
FROM	SMPBORGS
WHERE	BORGID='13'

--------------------슈퍼 운영자(agent2, 3) 등록---------------------
UPDATE	SMPUSERS
SET		LOGINID='agent2'
,		EMPNO = '02'
,		PWD = 'ae6178ab4a6508241f3d087304d03279af4e854e98f60bab96f79c0fb348ee14'
,		USERNM='전자재료'
,		GRADENM = '운영자'
,		TEL = '52EFE07FE3267FAC61B0E6304DF29DBF'
,		MOBILE = 'D7293FCFBCEBB5F0154D08B8A8FF8E77'
,		ISLOGIN = '1'
,		FAX = '1C03FF575F5CF46090A662CB199DD51B'
,		EMAIL = '57F9C83B0B20499B5DB21FAEFBF11C40'
,		CREATEDATE = GETDATE()
,		CREATORID = '2'
,		UPDATEDATE = GETDATE()
,		UPDATERID = '2'
,		ISUSE = '1'
,		LOGINCNT = 1
,		LASTLOGINDATE = GETDATE()
,		PWD_CHG_DATE = GETDATE()
,		AGENT_ID = '14'
WHERE	USERID = '3'

--------------------조직사용자 등록---------------------
INSERT INTO SMPBORGS_USERS (
		USERID
,		BORGID
,		LOGINID
,		ISDEFAULT
,		CREATEDATE
,		AGENT_ID
) VALUES (
		'3'
,		'14'
,		'agent2'
,		1
,		GETDATE()
,		'14'
)

--------------------권한(6) 등록---------------------
INSERT INTO SMPROLES (
		ROLEID
,		ROLECD
,		ROLENM
,		ROLEDESC
,		BORGSCOPECD
,		SVCTYPECD
,		ISUSE
,		INITISROLE
,		INITBORGSCOPECD
,		AGENT_ID
) 
SELECT	'6'
,		ROLECD
,		ROLENM
,		ROLEDESC
,		BORGSCOPECD
,		SVCTYPECD
,		ISUSE
,		INITISROLE
,		INITBORGSCOPECD
,		'14'
FROM	SMPROLES
WHERE	ROLEID = '5'

--------------------조직사용자권한 등록---------------------
INSERT INTO SMPBORGS_USERS_ROLES (
		ROLEID
,		BORGID
,		USERID
,		ISDEFAULT
,		BORGSCOPECD
,		AGENT_ID
) VALUES (
		'6'
,		'14'
,		'3'
,		1
,		'5000'
,		'14'
)

--------------------영역 등록---------------------
INSERT INTO SMPSCOPES (
		SCOPEID
,		SCOPECD
,		SCOPENM
,		SCOPEDESC
,		ISUSE
,		SVCTYPECD
,		AGENT_ID
)
SELECT	10000 + ROW_NUMBER() OVER( ORDER BY SCOPEID)
,		SCOPECD
,		SCOPENM
,		SCOPEDESC
,		ISUSE
,		SVCTYPECD
,		'14'
FROM	SMPSCOPES 
WHERE	SCOPEID IN (SELECT SCOPEID FROM SMPROLES_SCOPES WHERE ROLEID = '5') 
ORDER BY SCOPEID



--------------------권한영역 등록---------------------
INSERT INTO SMPROLES_SCOPES (
		SCOPEID
,		ROLEID
,		SCOPECD
,		ROLECD
,		AGENT_ID
)
SELECT	10000 + ROW_NUMBER() OVER( ORDER BY SCOPEID)
,		6
,		10000 + ROW_NUMBER() OVER( ORDER BY SCOPEID)
,		ROLECD
,		'14'
FROM	SMPROLES_SCOPES 
WHERE	ROLEID = '5' 
ORDER BY SCOPEID


--------------------화면권한 등록---------------------
INSERT INTO SMPACTIVITIES (
		ACTIVITYID
,		ACTIVITYCD
,		ACTIVITYNM
,		ISUSE
,		AGENT_ID
)
SELECT	10000 + ROW_NUMBER() OVER( ORDER BY ACTIVITYID)
,		ACTIVITYCD
,		ACTIVITYNM
,		ISUSE
,		'14'
FROM	SMPACTIVITIES 
WHERE	AGENT_ID = '13'
ORDER BY AGENT_ID

--------------------메뉴 등록(새메뉴ID : MENUID-10000)---------------------
INSERT INTO SMPMENUS  (
		MENUID
,		MENUCD
,		MENUNM
,		TOPMENUID
,		PARMENUID
,		MENULEVEL
,		DISORDER
,		SVCTYPECD
,		ISFIXED
,		ISUSE
,		FWDPATH
,		AGENT_ID
) 
SELECT	A.MENUID-10000
,		A.MENUCD
,		A.MENUNM
,		CASE WHEN A.TOPMENUID<10000 THEN A.TOPMENUID ELSE A.TOPMENUID-10000 END
,		CASE WHEN A.PARMENUID<10000 THEN A.PARMENUID ELSE A.PARMENUID-10000 END
,		MENULEVEL
,		DISORDER
,		SVCTYPECD
,		ISFIXED
,		ISUSE
,		FWDPATH
,		'14'
FROM	SMPMENUS A
WHERE	A.AGENT_ID = '13'
AND		A.ISUSE = '1'
ORDER BY A.MENUID


--------------------메뉴화면권한 등록---------------------
INSERT INTO SMPMENUS_ACTIVITIES (
		MENUID
,		ACTIVITYID
,		MENUCD
,		ACTIVITYCD
,		AGENT_ID
)
SELECT	A.MENUID-10000
,		CASE	WHEN A.ACTIVITYID=1 THEN 10001
				WHEN A.ACTIVITYID=2 THEN 10002
				WHEN A.ACTIVITYID=13166 THEN 10003
				WHEN A.ACTIVITYID=13184 THEN 10004
				WHEN A.ACTIVITYID=13238 THEN 10005
				WHEN A.ACTIVITYID=13239 THEN 10006
		END
,		A.MENUCD
,		A.ACTIVITYCD
,		'14'
FROM	SMPMENUS_ACTIVITIES A
INNER JOIN SMPMENUS B
	ON	B.MENUID = A.MENUID
	AND	B.ISUSE = '1'
	AND	B.AGENT_ID = '13'
WHERE	A.AGENT_ID = '13'


--------------------영역메뉴권한 등록---------------------
INSERT INTO SMPSCOPES_ACTIVITIES (
		SCOPEID
,		MENUID
,		ACTIVITYID
,		MENUCD
,		ACTIVITYCD
,		SCOPECD
,		AGENT_ID
)
SELECT	BBB.NEW_SCOPEID
,		AAA.MENUID-10000
,		CASE	WHEN AAA.ACTIVITYID=1 THEN 10001
				WHEN AAA.ACTIVITYID=2 THEN 10002
				WHEN AAA.ACTIVITYID=13166 THEN 10003
				WHEN AAA.ACTIVITYID=13184 THEN 10004
				WHEN AAA.ACTIVITYID=13238 THEN 10005
				WHEN AAA.ACTIVITYID=13239 THEN 10006
		END
,		AAA.MENUCD
,		AAA.ACTIVITYCD
,		AAA.SCOPECD
,		'14'
FROM	SMPSCOPES_ACTIVITIES AAA
INNER JOIN (
		SELECT	AA.SCOPEID
		,		BB.SCOPEID AS NEW_SCOPEID
		FROM	(
				SELECT * FROM SMPSCOPES WHERE AGENT_ID='13'
		) AA
		INNER JOIN (
				SELECT * FROM SMPSCOPES WHERE AGENT_ID='14'
		) BB
			ON	BB.SCOPECD = AA.SCOPECD
) BBB
	ON	BBB.SCOPEID = AAA.SCOPEID

select * from SMPMENUACCESSLOG where AGENT_ID='14'
select * from SMP_ACCESS_LOG where AGENT_ID='14'


--------------------CODETYPE 등록---------------------
INSERT INTO SMPCODETYPES (
		CODETYPEID
,		CODETYPECD
,		CODETYPENM
,		CODETYPEDESC
,		CODEFLAG
,		REMOTEIP
,		CREATEDATE
,		CREATORID
,		UPDATEDATE
,		UPDATERID
,		ISUSE
,		AGENT_ID
)
SELECT	CASE WHEN CODETYPEID=7 THEN 82 ELSE CODETYPEID-10000 END
,		CODETYPECD
,		CODETYPENM
,		CODETYPEDESC
,		CODEFLAG
,		REMOTEIP
,		GETDATE()
,		'2'
,		GETDATE()
,		'2'
,		ISUSE
,		'14'
FROM	SMPCODETYPES
WHERE	AGENT_ID = '13'
AND		ISUSE = '1'
AND		CODETYPECD NOT IN ('HNS_CATE')

--------------------CODE 등록---------------------
INSERT INTO SMPCODES (
		CODEID
,		CODETYPEID
,		CODETYPECD
,		CODEVAL1
,		CODEVAL2
,		CODEVAL3
,		CODENM1
,		CODENM2
,		CODENM3
,		DISORDER
,		ISUSE
,		AGENT_ID
)
SELECT	CODEID-10000
,		CASE WHEN CODETYPEID=7 THEN 82 ELSE CODETYPEID-10000 END
,		CODETYPECD
,		CODEVAL1
,		CODEVAL2
,		CODEVAL3
,		CODENM1
,		CODENM2
,		CODENM3
,		DISORDER
,		ISUSE
,		'14'
FROM	SMPCODES
WHERE	AGENT_ID = '13'
AND		ISUSE = '1'
AND		CODETYPECD NOT IN ('HNS_CATE')


--------------------AGENT2로 로그인하여 수기처리---------------------
/*
	-----------이후 작업-----------
	1. 코드 정리
		- ADMLIST_B2B(운영자 리스트) 코드 정리
		- ADMLIST_B2B(공사유형) 코드 정리
		- SMPWORKINFO_CODE_MID(자재유형코드(중)) 코드 정리

	2. 시스템의 영역, 권한을 수기로 등록
*/


--------------------기존사용자 변경(14) 및 권한 등록 ---------------------
SELECT * FROM SMPUSERS WHERE USERNM = '박병국' --302049, fruitv12
UPDATE SMPUSERS SET AGENT_ID = '14' WHERE USERID = '302049'

SELECT * FROM SMPRECEIVEINFO WHERE USERID = '302049'
UPDATE SMPRECEIVEINFO SET AGENT_ID = '14' WHERE USERID = '302049'

SELECT * FROM SMPUSERS_LOG WHERE USERID = '302049'
UPDATE SMPUSERS_LOG SET AGENT_ID = '14' WHERE USERID = '302049'

SELECT * FROM SMPBORGS_USERS WHERE USERID = '302049'
UPDATE SMPBORGS_USERS SET BORGID='14', AGENT_ID = '14' WHERE USERID = '302049'

SELECT * FROM SMPROLES WHERE AGENT_ID='14' --ROLEID:6
SELECT * FROM SMPBORGS_USERS_ROLES WHERE AGENT_ID = '14'
INSERT INTO SMPBORGS_USERS_ROLES(
		ROLEID
,		BORGID
,		USERID
,		ISDEFAULT
,		BORGSCOPECD
,		AGENT_ID
) VALUES (
		6
,		'14'
,		'302049'
,		'1'
,		'5000'
,		'14'
)

--------------------전자재료 공사유형 14로 변경 ---------------------
SELECT * FROM SMPWORKINFO WHERE USERID = '302049'
UPDATE SMPWORKINFO SET AGENT_ID='14' WHERE USERID = '302049'


--------------------전자재료 공사유형 고객사, 사용자 14로 변경 ---------------------
SELECT * FROM SMPBRANCHS WHERE WORKID = '58' --306113,306115,306117,306119
UPDATE SMPBRANCHS SET AGENT_ID='14' WHERE WORKID = '58'

SELECT * FROM SMPBORGS WHERE BORGID IN ('306113','306115','306117','306119') --TOPBORGID:304452, PARBORGID:306112, 306114, 306116, 306118
UPDATE SMPBORGS SET AGENT_ID='14' WHERE BORGID IN ('306113','306115','306117','306119')

SELECT * FROM SMPBORGS_USERS WHERE BORGID IN ('306113','306115','306117','306119') --302054,302055,302056,302057,302088
UPDATE SMPBORGS_USERS SET AGENT_ID='14' WHERE BORGID IN ('306113','306115','306117','306119')


--------------------고객사 그룹/법인 14로 변경 -> 주문,정산정보도 변경 ---------------------
--GROUPID 304452 -> 101 등록
--CLIENTID 306112, 306114, 306116, 306118 -> 기존정보(그룹정보, AGENT_ID....) 업데이트
SELECT MIN(BORGID) FROM SMPBORGS WHERE BORGID NOT IN ('13','14') --304450
SELECT * FROM SMPBORGS WHERE BORGID = '304452'
SELECT * FROM SMPBORGS WHERE BORGID = '101'
--------그룹생성
INSERT INTO SMPBORGS (
		BORGID
,		BORGCD, BORGNM, TOPBORGID, PARBORGID, BORGLEVEL, BORGTYPECD, SVCTYPECD, GROUPID, CLIENTID, BRANCHID, DEPTID, REMOTEIP, CREATORID, UPDATERID, ISUSE
,		CREATEDATE
,		UPDATEDATE
,		AGENT_ID
)
SELECT	'101'
,		BORGCD, BORGNM, TOPBORGID, PARBORGID, BORGLEVEL, BORGTYPECD, SVCTYPECD, GROUPID, CLIENTID, BRANCHID, DEPTID, REMOTEIP, CREATORID, UPDATERID, ISUSE
,		GETDATE()
,		GETDATE()
,		'14'
FROM	SMPBORGS 
WHERE	BORGID = '304452'

SELECT * FROM SMPBORGS WHERE BORGID IN ('306112', '306114', '306116', '306118')
--------법인의 그룹/AGENT_ID 변경
UPDATE	SMPBORGS
SET		TOPBORGID = '101'
,		PARBORGID = '101'
,		GROUPID = '101'
,		AGENT_ID = '14'
WHERE	BORGID IN ('306112', '306114', '306116', '306118')

SELECT * FROM SMPBORGS WHERE BORGID IN ('306113','306115','306117','306119')
--------사업장의 그룹/AGENT_ID 변경
UPDATE	SMPBORGS
SET		TOPBORGID = '101'
,		GROUPID = '101'
,		AGENT_ID = '14'
WHERE	BORGID IN ('306113','306115','306117','306119')

SELECT * FROM AUTHINFO WHERE BORGID IN (SELECT PARBORGID FROM SMPBORGS WHERE BORGID IN ('306113','306115','306117','306119'))
UPDATE	AUTHINFO
SET		AGENT_ID = '14'
WHERE	BORGID IN (SELECT PARBORGID FROM SMPBORGS WHERE BORGID IN ('306113','306115','306117','306119'))

SELECT * FROM SMPDELIVERYINFO WHERE BRANCHID IN ('306113','306115','306117','306119')
UPDATE	SMPDELIVERYINFO
SET		GROUPID = '101'
,		AGENT_ID = '14'
WHERE	BRANCHID IN ('306113','306115','306117','306119')


--------------------고객사사용자 권한 14로 변경 ---------------------
SELECT * FROM SMPUSERS WHERE USERID IN ('302054','302055','302056','302057','302088')
UPDATE SMPUSERS SET AGENT_ID = '14' WHERE USERID IN ('302054','302055','302056','302057','302088')

SELECT * FROM SMPRECEIVEINFO WHERE USERID IN ('302054','302055','302056','302057','302088')
UPDATE SMPRECEIVEINFO SET AGENT_ID = '14' WHERE USERID IN ('302054','302055','302056','302057','302088')

SELECT * FROM SMPUSERS_LOG WHERE USERID IN ('302054','302055','302056','302057','302088')
UPDATE SMPUSERS_LOG SET AGENT_ID = '14' WHERE USERID IN ('302054','302055','302056','302057','302088')

SELECT * FROM SMPBORGS_USERS_ROLES WHERE USERID IN ('302054','302055','302056','302057','302088') --13131,13081
SELECT	(SELECT Z.ROLEID FROM SMPROLES Z WHERE Z.ROLECD=B.ROLECD AND Z.AGENT_ID='14')
,		A.*
FROM	SMPBORGS_USERS_ROLES A
INNER JOIN SMPROLES B
	ON	A.ROLEID = B.ROLEID
WHERE	A.USERID IN ('302054','302055','302056','302057','302088')

UPDATE	A
SET		A.ROLEID = (SELECT Z.ROLEID FROM SMPROLES Z WHERE Z.ROLECD=B.ROLECD AND Z.AGENT_ID='14')
,		A.AGENT_ID = '14'
FROM	SMPBORGS_USERS_ROLES A
INNER JOIN SMPROLES B
	ON	A.ROLEID = B.ROLEID
WHERE	A.USERID IN ('302054','302055','302056','302057','302088')

--------------------유형코드의 ADMLIST_B2B 코드값에 박병국 추가 ---------------------
--코드명 : 박병국
--코드값 : fruitv12


-------------------- 공급사 14로 변경 ---------------------
SELECT * FROM SMPVENDORS WHERE VENDORCD IN ('VEN306120','VEN306121','VEN306122','VEN306123','VEN306124') --306120,306121,306122,306123,306124
SELECT * FROM SMPVENDORS WHERE VENDORID IN ('306120','306121','306122','306123','306124')
UPDATE SMPVENDORS SET AGENT_ID='14' WHERE VENDORID IN ('306120','306121','306122','306123','306124')

SELECT * FROM SMPBORGS WHERE BORGID IN ('306120','306121','306122','306123','306124')
UPDATE SMPBORGS SET AGENT_ID='14' WHERE BORGID IN ('306120','306121','306122','306123','306124')

SELECT * FROM SMPBORGS_USERS WHERE BORGID IN ('306120','306121','306122','306123','306124') ORDER BY USERID --302058,302059,302060,302061,302062,302072,302073,302136
UPDATE SMPBORGS_USERS SET AGENT_ID='14' WHERE BORGID IN ('306120','306121','306122','306123','306124')

SELECT * FROM AUTHINFO WHERE BORGID IN ('306120','306121','306122','306123','306124')
UPDATE	AUTHINFO
SET		AGENT_ID = '14'
WHERE	BORGID IN ('306120','306121','306122','306123','306124')


-------------------- 공급사 사용자/권한 14로 변경 ---------------------
SELECT * FROM SMPUSERS WHERE USERID IN ('302058','302059','302060','302061','302062','302072','302073','302136')
UPDATE SMPUSERS SET AGENT_ID='14' WHERE USERID IN ('302058','302059','302060','302061','302062','302072','302073','302136')

SELECT * FROM SMPRECEIVEINFO WHERE USERID IN ('302058','302059','302060','302061','302062','302072','302073','302136')
UPDATE SMPRECEIVEINFO SET AGENT_ID = '14' WHERE USERID IN ('302058','302059','302060','302061','302062','302072','302073','302136')

SELECT * FROM SMPUSERS_LOG WHERE USERID IN ('302058','302059','302060','302061','302062','302072','302073','302136')
UPDATE SMPUSERS_LOG SET AGENT_ID = '14' WHERE USERID IN ('302058','302059','302060','302061','302062','302072','302073','302136')

SELECT * FROM SMPBORGS_USERS_ROLES WHERE USERID IN ('302058','302059','302060','302061','302062','302072','302073','302136')
SELECT	(SELECT Z.ROLEID FROM SMPROLES Z WHERE Z.ROLECD=B.ROLECD AND Z.AGENT_ID='14')
,		A.*
FROM	SMPBORGS_USERS_ROLES A
INNER JOIN SMPROLES B
	ON	A.ROLEID = B.ROLEID
WHERE	A.USERID IN ('302058','302059','302060','302061','302062','302072','302073','302136')
UPDATE	A
SET		A.ROLEID = (SELECT Z.ROLEID FROM SMPROLES Z WHERE Z.ROLECD=B.ROLECD AND Z.AGENT_ID='14')
,		A.AGENT_ID = '14'
FROM	SMPBORGS_USERS_ROLES A
INNER JOIN SMPROLES B
	ON	A.ROLEID = B.ROLEID
WHERE	A.USERID IN ('302058','302059','302060','302061','302062','302072','302073','302136')


-------------------- 상품카테고리 등록/변경 ---------------------
--최상위 등록 : 1
INSERT INTO MCCATEGORYMASTER(
		CATE_ID
,		MAJO_CODE_NAME
,		CATE_CD
,		MOJO_CODE_DESC
,		REF_CATE_SEQ
,		CATE_LEVEL
,		ORD_NUM
,		INSERT_DATE
,		AGENT_ID
) 
SELECT	'1'
,		MAJO_CODE_NAME
,		CATE_CD
,		MOJO_CODE_DESC
,		REF_CATE_SEQ
,		CATE_LEVEL
,		ORD_NUM
,		GETDATE()
,		'14'
FROM	MCCATEGORYMASTER
WHERE	CATE_ID = '0'

--기존카테고리를 참조하여 카테고리 생성 : CATE_ID-90000
SELECT * FROM MCCATEGORYMASTER WHERE AGENT_ID='13' AND cate_id!='0'
INSERT INTO MCCATEGORYMASTER (
		CATE_ID
,		MAJO_CODE_NAME
,		CATE_CD
,		MOJO_CODE_DESC
,		REF_CATE_SEQ
,		CATE_LEVEL
,		ORD_NUM
,		INSERT_USER_ID
,		INSERT_DATE
,		UPDATE_USER_ID
,		UPDATE_DATE
,		REMOTEIP
,		AGENT_ID
)
SELECT	CATE_ID-90000
,		MAJO_CODE_NAME
,		CATE_CD
,		MOJO_CODE_DESC
,		CASE WHEN REF_CATE_SEQ=0 THEN 1 ELSE REF_CATE_SEQ-90000 END
,		CATE_LEVEL
,		ORD_NUM
,		INSERT_USER_ID
,		INSERT_DATE
,		UPDATE_USER_ID
,		UPDATE_DATE
,		REMOTEIP
,		'14'
FROM	MCCATEGORYMASTER
WHERE	AGENT_ID='13'
AND		cate_id!='0'


-------------------- 상품정보 변경 ---------------------
SELECT * FROM MCGOODVENDOR WHERE VENDORID IN ('306120','306121','306122','306123','306124')

SELECT * FROM MCGOOD WHERE GOOD_IDEN_NUMB IN (SELECT GOOD_IDEN_NUMB FROM MCGOODVENDOR WHERE VENDORID IN ('306120','306121','306122','306123','306124'))
UPDATE	MCGOOD
SET		CATE_ID = CATE_ID-90000
,		AGENT_ID = '14'
WHERE	GOOD_IDEN_NUMB IN (SELECT GOOD_IDEN_NUMB FROM MCGOODVENDOR WHERE VENDORID IN ('306120','306121','306122','306123','306124'))

SELECT * FROM MCGOODVENDOR WHERE VENDORID IN ('306120','306121','306122','306123','306124')
UPDATE	MCGOODVENDOR
SET		AGENT_ID = '14'
WHERE	VENDORID IN ('306120','306121','306122','306123','306124')

SELECT * FROM MCGOODDISPLAY WHERE VENDORID IN ('306120','306121','306122','306123','306124')
UPDATE	MCGOODDISPLAY
SET		AGENT_ID = '14'
WHERE	VENDORID IN ('306120','306121','306122','306123','306124')

SELECT * FROM MCGOODDISPLAYBRANCH WHERE VENDORID IN ('306120','306121','306122','306123','306124')
UPDATE	MCGOODDISPLAYBRANCH
SET		AGENT_ID = '14'
WHERE	VENDORID IN ('306120','306121','306122','306123','306124')

SELECT * FROM MCGOOD_SPEC WHERE GOOD_IDEN_NUMB IN (SELECT GOOD_IDEN_NUMB FROM MCGOODVENDOR WHERE VENDORID IN ('306120','306121','306122','306123','306124'))
UPDATE	MCGOOD_SPEC
SET		AGENT_ID = '14'
WHERE	GOOD_IDEN_NUMB IN (SELECT GOOD_IDEN_NUMB FROM MCGOODVENDOR WHERE VENDORID IN ('306120','306121','306122','306123','306124'))

-------------------- 주문정보 변경 ---------------------
--사업장 ('306113','306115','306117','306119') 의 그룹은 101
SELECT * FROM MRCART WHERE BRANCHID IN ('306113','306115','306117','306119')
UPDATE MRCART SET AGENT_ID='14' WHERE BRANCHID IN ('306113','306115','306117','306119')

SELECT * FROM MRCARTPROD WHERE BRANCHID IN ('306113','306115','306117','306119')
UPDATE MRCARTPROD SET AGENT_ID='14' WHERE BRANCHID IN ('306113','306115','306117','306119')

SELECT * FROM MRUSERGOOD WHERE BRANCHID IN ('306113','306115','306117','306119')
UPDATE MRUSERGOOD SET AGENT_ID='14' WHERE BRANCHID IN ('306113','306115','306117','306119')

SELECT * FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119')
UPDATE	MRORDM
SET		GROUPID='101'
,		AGENT_ID = '14'
WHERE	BRANCHID IN ('306113','306115','306117','306119')

SELECT * FROM MRORDT WHERE ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))
UPDATE	MRORDT
SET		AGENT_ID = '14'
WHERE	ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))

SELECT * FROM MRORDTHIST WHERE ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))
UPDATE	MRORDTHIST
SET		AGENT_ID = '14'
WHERE	ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))

SELECT * FROM MRPURT WHERE ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))
UPDATE	MRPURT
SET		AGENT_ID = '14'
WHERE	ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))

SELECT * FROM MRACPT WHERE ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))
UPDATE	MRACPT
SET		AGENT_ID = '14'
WHERE	ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))

SELECT * FROM MRORDTLIST WHERE ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))
UPDATE	MRORDTLIST
SET		GROUPID='101'
,		AGENT_ID = '14'
WHERE	BRANCHID IN ('306113','306115','306117','306119')

SELECT * FROM MRPURT_CANCEL WHERE ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))
UPDATE	MRPURT_CANCEL
SET		AGENT_ID = '14'
WHERE	ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))

SELECT * FROM MRACPTSUB WHERE ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))
UPDATE	MRACPTSUB
SET		AGENT_ID = '14'
WHERE	ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))

SELECT * FROM MRAREM WHERE ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))
UPDATE	MRAREM
SET		AGENT_ID = '14'
WHERE	ORDE_IDEN_NUMB IN (SELECT ORDE_IDEN_NUMB FROM MRORDM WHERE BRANCHID IN ('306113','306115','306117','306119'))


-------------------- 정산정보 변경 ---------------------
--사업장 ('306113','306115','306117','306119') 의 그룹은 101
--공급사 ('306120','306121','306122','306123','306124')

SELECT * FROM MSBUYM WHERE VENDORID IN ('306120','306121','306122','306123','306124')
UPDATE	MSBUYM
SET		CREATE_BORGID='14'
,		AGENT_ID = '14'
WHERE	VENDORID IN ('306120','306121','306122','306123','306124')

SELECT * FROM MPTPAY WHERE BUYI_SEQU_NUMB IN (SELECT BUYI_SEQU_NUMB FROM MSBUYM WHERE VENDORID IN ('306120','306121','306122','306123','306124'))
UPDATE	MPTPAY
SET		AGENT_ID='14'
WHERE	BUYI_SEQU_NUMB IN (SELECT BUYI_SEQU_NUMB FROM MSBUYM WHERE VENDORID IN ('306120','306121','306122','306123','306124'))

SELECT * FROM MSSALM WHERE BRANCHID IN ('306113','306115','306117','306119')
UPDATE	MSSALM
SET		CREATE_BORGID='14'
,		AGENT_ID = '14'
WHERE	BRANCHID IN ('306113','306115','306117','306119')

SELECT * FROM MSSALM_CANCEL_HIST WHERE BRANCHID IN ('306113','306115','306117','306119')
UPDATE	MSSALM_CANCEL_HIST
SET		CREATE_BORGID='14'
,		AGENT_ID = '14'
WHERE	BRANCHID IN ('306113','306115','306117','306119')

SELECT * FROM MPTREC WHERE SALE_SEQU_NUMB IN (SELECT SALE_SEQU_NUMB FROM MSSALM WHERE BRANCHID IN ('306113','306115','306117','306119'))
UPDATE	MPTREC
SET		AGENT_ID = '14'
WHERE	SALE_SEQU_NUMB IN (SELECT SALE_SEQU_NUMB FROM MSSALM WHERE BRANCHID IN ('306113','306115','306117','306119'))

SELECT * FROM BOND_MANAGE_HIST WHERE CLIENTID IN (SELECT PARBORGID FROM SMPBORGS WHERE BORGID IN ('306113','306115','306117','306119'))
UPDATE	BOND_MANAGE_HIST
SET		AGENT_ID = '14'
WHERE	CLIENTID IN (SELECT PARBORGID FROM SMPBORGS WHERE BORGID IN ('306113','306115','306117','306119'))

SELECT * FROM BOND_PLAN WHERE SALE_SEQU_NUMB IN (SELECT SALE_SEQU_NUMB FROM MSSALM WHERE BRANCHID IN ('306113','306115','306117','306119'))
UPDATE	BOND_PLAN
SET		AGENT_ID = '14'
WHERE	SALE_SEQU_NUMB IN (SELECT SALE_SEQU_NUMB FROM MSSALM WHERE BRANCHID IN ('306113','306115','306117','306119'))


-------------------- 계약(서약) 변경 ---------------------
--사업장 ('306113','306115','306117','306119') 의 그룹은 101
--공급사 ('306120','306121','306122','306123','306124')
--고객사 사용자 ('302054','302055','302056','302057','302088')
--공급사 사용자 ('302058','302059','302060','302061','302062','302072','302073','302136')

SELECT * FROM COMMODITY_CONTRACT_NEW WHERE CONTRACT_CLASSIFY IN ('P','N')
INSERT INTO COMMODITY_CONTRACT_NEW (
		CONTRACT_VERSION
,		SVCTYPECD
,		AGENT_ID
,		CONTRACT_SPECIAL
,		CONTRACT_CLASSIFY
,		CONTRACT_CONTENTS
,		CONTRACT_DATE
,		CONTRACT_USERID
)
SELECT	CONTRACT_VERSION
,		SVCTYPECD
,		'14'
,		CONTRACT_SPECIAL
,		CONTRACT_CLASSIFY
,		CONTRACT_CONTENTS
,		CONTRACT_DATE
,		CONTRACT_USERID
FROM	COMMODITY_CONTRACT_NEW
WHERE	CONTRACT_CLASSIFY IN ('P','N')
/*
N170213V1.0
N170213V1.0
P170213V1.0
P180208V1.1
*/

SELECT * FROM SMPUSERS_CONTRACT_SIGN WHERE CONTRACT_USERID IN ('302054','302055','302056','302057','302088','302058','302059','302060','302061','302062','302072','302073','302136')
UPDATE	SMPUSERS_CONTRACT_SIGN
SET		AGENT_ID = '14'
WHERE	CONTRACT_USERID IN ('302054','302055','302056','302057','302088','302058','302059','302060','302061','302062','302072','302073','302136')
