
--------------------------------------------------------------------------
[ 사전 방화벽 open 작업 ]
--------------------------------------------------------------------------
하기 IP:Port에 대한 Outbound 방화벽 오픈이 필요합니다. 
방화벽 작업 이후 telnet으로 접속 가능한 지 확인 후, 설치 진행하시면 됩니다. 

--------------------------------------------------------------------------
- 방화벽 오픈 대상 - 인증서버
--------------------------------------------------------------------------
- IP  : certify.ibiztalk.co.kr (222.231.44.15)
- PORT: 30001

--------------------------------------------------------------------------
- 방화벽 오픈 대상 - 발송 G/W #1
--------------------------------------------------------------------------
- IP  : 222.231.44.10 
- PORT: 7000

--------------------------------------------------------------------------
- 방화벽 오픈 대상 - 발송 G/W #2
--------------------------------------------------------------------------
- IP  : 222.231.44.11 
- PORT: 7000


--------------------------------------------------------------------------
[ 설치 순서 ]
--------------------------------------------------------------------------
1. 방화벽 open
2. DB 생성
3. 프로시저 컴파일
4. 테이블 생성 (Oracle 필수, MySQL/MSSQL은 선택사항)
5. ATA install
6. ID 인증 (ATA_ID.txt)
7. ATA test (test insert query.sql)
 - 테스트 전 Sender Key발급과 Template 등록 진행

--------------------------------------------------------------------------
[ 문의 ]
--------------------------------------------------------------------------
- 센더키 및 템플릿 등록 문의: help@biztalk.co.kr
- ATA 연동 및 테스트, 기술 문의: dev@biztalk.co.kr



--------------------------------------------------------------------------
[ 주의 사항 ]
--------------------------------------------------------------------------
1. Oracle 패키지 컴파일 시 테이블스페이스 지정 필수 (미작업 시 월별 로그테이블 생성 오류)
   -> "TABLE_SPACE"를 Replace 하여 사용중인 테이블스페이스 지정 (ATA_PKG_COM / ATA_PKG_MMT)

2. ATA모듈은 매월 로그테이블을 생성하므로 DB 계정의 테이블 생성권한이 있어야 한다. 

3. 인증서 발급 (regkey) 과정은 아이디별 최초 1회 수행하면 된다. 
   ./cert 디렉토리에 ATA_ID_pri.der 파일이 생성되는 것을 확인한 후 모듈을 기동하면 된다.
   ex) 개발서버 - 운영서버 별도 위치: 
       - 운영서버에서 _real 아이디로 regkey 실행, 테스트(서비스 환경)
   ex) 개발서버 - 운영서버 동일 경로:
       - _real 아이디로 변경 후, regkey 실행 및 테스트(서비스 환경)

4. atasvc는 백그라운드, ata는 포그라운드로 실행하는 파일이다.
   특별한 경우가 아니라면 기본적으로 atasvc를 통해 백그라운드로 서비스 기동한다. 
   -> atasvc로 ATA가 백그라운드로 실행되고 있을 때, ata를 실행하여 포그라운드로 실행 시 데몬이 중복실행이 되므로 주의해야 한다. 